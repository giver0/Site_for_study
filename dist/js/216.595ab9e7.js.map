{"version":3,"file":"js/216.595ab9e7.js","mappings":"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","sources":["webpack://test-datrics/./src/components/auth/auth-field/auth-field.vue","webpack://test-datrics/./src/components/auth/auth-field/auth-field.vue?3af3","webpack://test-datrics/./src/components/auth/button-show-password/button-show-password.vue","webpack://test-datrics/./src/components/auth/button-show-password/button-show-password.vue?c552","webpack://test-datrics/./src/components/auth/sign-in/sign-in.vue","webpack://test-datrics/./src/components/auth/sign-in/sign-in.vue?9672"],"sourcesContent":["<template>\r\n  <div class=\"sign-up__container-field\">\r\n    <div class=\"sign-up__container-field-title\">\r\n      {{ fieldName }}\r\n    </div>\r\n    <div class=\"sign-up__container-field-input-box\">\r\n      <input\r\n        v-model=\"inputValue\"\r\n        :type=\"fieldType\"\r\n        class=\"sign-up__container-field-input\"\r\n        @input=\"$emit('onInput')\"\r\n      >\r\n      <button-show-password\r\n        v-if=\"fieldName === 'Password'\"\r\n        :field-type=\"fieldType\"\r\n        @onClickImg=\"emitEvent\"\r\n      />\r\n    </div>\r\n    <div class=\"sign-up__container-field-error\">\r\n      {{ fieldObject.errors.join(', ') }}\r\n    </div>\r\n    <!-- @click=\"switchVisibility\" -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport buttonShowPassword from '../button-show-password'\r\nimport { computed } from 'vue'\r\n\r\nexport default {\r\n  name: 'AuthField',\r\n  components: {\r\n    buttonShowPassword,\r\n  },\r\n  props: {\r\n    fieldName: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    fieldType: {\r\n      type: String,\r\n      default: 'text',\r\n    },\r\n    fieldObject: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n  },\r\n  setup(props, { emit }) {\r\n    function emitEvent() {\r\n      emit('onClickImg')\r\n    }\r\n\r\n    const inputValue = computed({\r\n      set(value) {\r\n        emit('update:fieldObject', { ...props.fieldObject, value })\r\n      },\r\n      get() {\r\n        return props.fieldObject.value\r\n      },\r\n    })\r\n\r\n    return {\r\n      emitEvent,\r\n      inputValue,\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n  @import \"auth-field\";\r\n</style>\r\n","import { render } from \"./auth-field.vue?vue&type=template&id=755e5650\"\nimport script from \"./auth-field.vue?vue&type=script&lang=js\"\nexport * from \"./auth-field.vue?vue&type=script&lang=js\"\n\nimport \"./auth-field.vue?vue&type=style&index=0&id=755e5650&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\IvanEndorphin\\\\Documents\\\\GitHub\\\\Site_for_study\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <img\r\n      v-if=\"fieldType === 'password'\"\r\n      class=\"sign-up__container-field-password-control\"\r\n      src=\"@/assets/noun-view.svg\"\r\n      alt=\"show/hide password\"\r\n      @click=\"changePassType\"\r\n    >\r\n    <img\r\n      v-else\r\n      class=\"sign-up__container-field-password-control\"\r\n      src=\"@/assets/noun-blind.svg\"\r\n      alt=\"show/hide password\"\r\n      @click=\"changePassType\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default ({\r\n  name: 'ButtonShowPassword',\r\n  props: {\r\n    fieldType: {\r\n      type: String,\r\n      default: 'text',\r\n    },\r\n  },\r\n  setup(props, { emit }) {\r\n    function changePassType() {\r\n      emit('onClickImg')\r\n    }\r\n\r\n    return {\r\n      changePassType,\r\n    }\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n  @import \"button-show-password\";\r\n</style>\r\n","import { render } from \"./button-show-password.vue?vue&type=template&id=337470db&scoped=true\"\nimport script from \"./button-show-password.vue?vue&type=script&lang=js\"\nexport * from \"./button-show-password.vue?vue&type=script&lang=js\"\n\nimport \"./button-show-password.vue?vue&type=style&index=0&id=337470db&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\IvanEndorphin\\\\Documents\\\\GitHub\\\\Site_for_study\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-337470db\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <!--Header-->\r\n    <AuthHeader />\r\n    <!-- <HeaderLine /> -->\r\n\r\n    <!--SIGN-IN_FORM-->\r\n    <div class=\"sign-in__form\">\r\n      <div class=\"sign-in__form-title\">\r\n        <div>Sign in</div>\r\n      </div>\r\n      <AuthField\r\n        v-model:fieldObject=\"email\"\r\n        field-name=\"Email\"\r\n        @onInput=\"email.validate\"\r\n      />\r\n      <AuthField\r\n        v-model:fieldObject=\"password\"\r\n        :field-type=\"password.fieldType\"\r\n        field-name=\"Password\"\r\n        @onInput=\"password.validate\"\r\n        @onClickImg=\"switchVisibility\"\r\n      />\r\n      <div>\r\n        <a\r\n          href=\"https://www.figma.com/file/1tEfPEgiDIT8y0HeM3RlpR/Datrics-App?node-id=3391%3A462\"\r\n          class=\"sign-in__form-container-reset\"\r\n        >\r\n          Forgot password?\r\n        </a>\r\n      </div>\r\n      <div class=\"sign-in__form-container-auth\">\r\n        <div class=\"sign-in__form-container-auth-button\">\r\n          <button\r\n            class=\"sign-in__container-field-button\"\r\n            @click=\"handleSignIn\"\r\n          >\r\n            Sign in\r\n          </button>\r\n        </div>\r\n        <div class=\"sign-up__field\">\r\n          Don`t have an account?&nbsp;\r\n          <router-link :to=\"{name: 'SignUp'}\">\r\n            Sign up\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { ROUTE_DASHBOARD } from '@/router/constants'\r\n\r\nimport AuthHeader from '../auth-header'\r\nimport AuthField from '../auth-field'\r\n\r\nimport useAuth from '../../../store/use/useAuth'\r\n\r\nexport default {\r\n  name: 'SignIn',\r\n  components: {\r\n    AuthHeader,\r\n    AuthField,\r\n  },\r\n  setup() {\r\n    const router = useRouter()\r\n    const email = ref({\r\n      value: 'henprokuror@gmail.com',\r\n      errors: [],\r\n      errorName: 'email',\r\n      validate: null,\r\n    })\r\n    const password = ref({\r\n      value: '12345',\r\n      errors: [],\r\n      errorName: 'password',\r\n      confirmObj: {},\r\n      fieldType: 'password',\r\n      validate: null,\r\n    })\r\n    const { signIn } = useAuth()\r\n\r\n    function validateInputFieldNotEmpty(inputObject) {\r\n      if (inputObject.value === '') {\r\n        const message = `You need to enter a ${inputObject.errorName}`\r\n        inputObject.errors.push(message)\r\n      }\r\n    }\r\n\r\n    function validateIfEmailCorrect(inputObject) {\r\n      if (inputObject.value !== '') {\r\n        const regexIsEmailCorrect = /\\S+@\\S+\\.\\S+/\r\n        const isEmailCorrect = regexIsEmailCorrect.test(inputObject.value)\r\n        if (!isEmailCorrect) {\r\n          inputObject.errors.push('Email is invalid')\r\n        }\r\n      }\r\n    }\r\n\r\n    function onValidateEmail() {\r\n      email.value.errors = []\r\n      validateInputFieldNotEmpty(email.value)\r\n      validateIfEmailCorrect(email.value)\r\n    }\r\n    function onValidatePassword() {\r\n      password.value.errors = []\r\n      validateInputFieldNotEmpty(password.value)\r\n    }\r\n    email.value.validate = onValidateEmail\r\n    password.value.validate = onValidatePassword\r\n\r\n    function hasInputFieldsErrors(inputObjects) {\r\n      return inputObjects\r\n        .map(inputObject => inputObject.errors)\r\n        .some(errors => errors.length > 0)\r\n    }\r\n\r\n    async function handleSignIn() {\r\n      const inputObjects = [email.value, password.value]\r\n      for (const input of inputObjects) {\r\n        input.validate()\r\n      }\r\n      if (!hasInputFieldsErrors(inputObjects)) {\r\n        try {\r\n          await signIn({\r\n            email: email.value.value,\r\n            password: password.value.value,\r\n          })\r\n          router.push(ROUTE_DASHBOARD)\r\n        } catch (err) {\r\n          console.error(err)\r\n        }\r\n      } else {\r\n        alert('Errors')\r\n      }\r\n    }\r\n\r\n    function switchVisibility() {\r\n      password.value.fieldType = password.value.fieldType === 'text' ? 'password' : 'text'\r\n    }\r\n\r\n    return {\r\n      email,\r\n      password,\r\n      handleSignIn,\r\n      switchVisibility,\r\n    }\r\n  },\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n@import \"sign-in\";\r\n</style>\r\n","import { render } from \"./sign-in.vue?vue&type=template&id=ec930b9c&scoped=true\"\nimport script from \"./sign-in.vue?vue&type=script&lang=js\"\nexport * from \"./sign-in.vue?vue&type=script&lang=js\"\n\nimport \"./sign-in.vue?vue&type=style&index=0&id=ec930b9c&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\IvanEndorphin\\\\Documents\\\\GitHub\\\\Site_for_study\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ec930b9c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$props","$setup","$event","type","onInput","_ctx","_createBlock","_component_button_show_password","onOnClickImg","errors","join","name","components","buttonShowPassword","props","fieldName","String","required","fieldType","default","fieldObject","Object","setup","emit","emitEvent","inputValue","computed","set","value","get","__exports__","render","src","_imports_0","alt","onClick","_imports_1","changePassType","href","_createVNode","_component_AuthHeader","_hoisted_2","_component_AuthField","onOnInput","validate","_hoisted_3","_component_router_link","to","AuthHeader","AuthField","router","useRouter","email","ref","errorName","password","confirmObj","signIn","useAuth","validateInputFieldNotEmpty","inputObject","message","push","validateIfEmailCorrect","regexIsEmailCorrect","isEmailCorrect","test","onValidateEmail","onValidatePassword","hasInputFieldsErrors","inputObjects","map","some","length","async","handleSignIn","input","alert","ROUTE_DASHBOARD","err","console","error","switchVisibility"],"sourceRoot":""}